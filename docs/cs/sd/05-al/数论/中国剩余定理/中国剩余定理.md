# 中国剩余定理 Chinese Remainder Theorem

## References

* [中国剩余定理 - 李永乐](https://www.youtube.com/watch?v=Ope18waS1GU)
* [ ] [中国剩余定理一 - PengTitus](https://www.youtube.com/watch?v=bFisuyRQEGk)
* [ ] [204. 表达整数的奇怪方式 - AcWing](https://www.acwing.com/problem/content/206/)

## 韩信点兵 - 《孙子算经》

> 兵不知數，三三數之剩二，五五數之剩三，七七數之剩二。

3 人一列余 2 人，5 人一列余 3 人，7 人一列余 2 人。

### 1. 列举法: 23 + 105 * n

1. -

   * **除 3 余 2**: [2, 5, 8, 11, 14, 17, 20, <u>**23**</u>, 26, 29, 32, ... ]

   * **除 5 余 3**: [3, 8, 13, 18, **<u>23</u>**, 28, 32, ...]

   * **除 7 余 2**: [2, 9, 16, **<u>23</u>**, 30, 37, ...]

2. 找3、5、7的最小公倍数

   * 3 * 5 * 7 = 105

### 2. 口诀法

> 三人同行七十稀，
>
> 五树梅花二十一，
>
> 七子团圆正月半，
>
> 除百零五便得知。

70 * 2 (3 人一列余 2 人) + 21 * 3 (5 人一列余 3 人) + 15 * 2 (7 人一列余 2 人) - 105 * n

* **70**: 5 * 7 的倍数，70 % 3 == 1，2 * 70 % 3 == 2
* **105**：3 * 5 * 7

### 3. 利用同余的加性

* x ≡ 2 (mod 3)
* x ≡ 3 (mod 5)
* x ≡ 2 (mod 7)
* x = [ ] + 3 * 5 * 7 * T



* a = 35p => p = 1
  * a ≡ 2 (mod 3)
  * a ≡ 0 (mod 5)
  * a ≡ 0 (mod 7)
* b = 21q => q = 3
  * b ≡ 0 (mod 3)
  * b ≡ 3 (mod 5)
  * b ≡ 0 (mod 7)
* c = 15q => q = 2
  * c ≡ 0 (mod 3)
  * c ≡ 0 (mod 5)
  * c ≡ 2 (mod 7)



Lot x = a (35) + b (21 * 3) + c (15 * 2) = 128

x = 128 + 105 * T => x = 23