# è´¨æ•°/ç´ æ•° Prime Numbers

## References

- [x] [è³ªæ•¸æ˜¯ä»€éº¼ï¼Ÿ](https://youtu.be/wPsry9nRPk0)
-   [x] [Sieve of Eratosthenes finding primes(Eratosthenes ç¯©æ³•æ‰¾è³ªæ•¸)](https://www.youtube.com/watch?v=GxoMWxXLKMc)
-   [x] [[Python] è´¨æ•°çš„æ±‚æ³• @é»„æµ©æ° - Youtube](https://www.youtube.com/watch?v=Tos6EaHL0LA)
-   [ ] [**æ•¸è«–&è³ªæ•¸, Prime Numbers, Primzahlen**](https://www.youtube.com/playlist?list=PLYRlUBnWnd5Ld53SovfXQROVMAI_La2dv)

## å®šä¹‰

ä»¤ p ä¸ºä¸ä¸º 1 ä¹‹æ­£æ•´æ•°ï¼Œp ä¸ºè´¨æ•° (Prime) <=> è‹¥æŸæ­£æ•´æ•° d æ•´é™¤ p (è®°ä¸º d | p)ï¼Œåˆ™ d = 1 æˆ– d = p.

-   p ä¸ºä¸ä¸º 1 ä¹‹æ­£æ•´æ•° => p ä¸ºå¤§äº 1 ä¹‹æ­£æ•´æ•° => $ p > 1, p âˆˆ N$
    -   N è¡¨ç¤ºè‡ªç„¶æ•°é›†åˆï¼Œå³ N = {1, 2, 3, 4, ...}ï¼Œè¡¨ç¤ºæ‰€æœ‰å¤§äºç­‰äº 1 çš„æ­£æ•´æ•°ã€‚

### #1

2, 3, 5, 7, 11, 13, ...

### #2

è´¨æ•°å°±æ˜¯é™¤äº† 1 å’Œ å®ƒæœ¬èº«ï¼Œé™¤ä»¥å…¶ä»–ä»»ä½•æ•°å­—éƒ½ä¸èƒ½é™¤å°½çš„æ‰€æœ‰çš„æ•°å­—ã€‚

### #3

**è´¨æ•°**ï¼šå¤§äº $1$ï¼Œä¸”åªå«æœ‰ **$1$** å’Œ **æœ¬èº«** ä¸¤ä¸ªå› æ•°çš„æ•°ã€‚

*. $2$ æ˜¯æœ€å°çš„è´¨æ•°ã€‚
*. $2$ æ˜¯è´¨æ•°ä¸­å”¯ä¸€çš„å¶æ•°ã€‚

## å®šç†

å­˜åœ¨æ— é™å¤šä¸ªè´¨æ•°ã€‚

## èƒŒæ™¯

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_2'5.976''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_2%275.976%27%27.jpg>)

## ç­›æ³•

### æšä¸¾ç­›æ³•

![[Python] è´¨æ•°çš„æ±‚æ³• - YouTube_2'54.980''](./assets/%5BPython%5D%20%E8%B4%A8%E6%95%B0%E7%9A%84%E6%B1%82%E6%B3%95%20-%20YouTube_2%2754.980%27%27.jpg)

**æ…¢**ï¼šåˆ¤æ–­ä¸€ä¸ªæ•° $n$ æ˜¯ä¸æ˜¯ç´ æ•°ï¼Œå¯ä»¥ç”¨ $2$ åˆ° $\sqrt{n}$ ä¹‹é—´çš„æ‰€æœ‰æ•´æ•°å»é™¤ nï¼Œçœ‹èƒ½å¦æ•´é™¤ã€‚å¦‚æœéƒ½ä¸èƒ½æ•´é™¤ï¼Œé‚£ä¹ˆ n æ˜¯ç´ æ•°ã€‚

### Eratosthenes åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•

**å¿«**ï¼šæŠŠ 2 åˆ° n ä¸­æ‰€æœ‰çš„æ•°éƒ½åˆ—å‡ºæ¥ï¼Œç„¶åä» 2 å¼€å§‹ï¼Œå…ˆåˆ’æ‰ n å†…æ‰€æœ‰ 2 çš„å€æ•°ï¼Œç„¶åæ¯æ¬¡ä»ä¸‹ä¸€ä¸ªå‰©ä¸‹çš„æ•°ï¼ˆå¿…ç„¶æ˜¯ç´ æ•°ï¼‰å¼€å§‹ï¼Œåˆ’æ‰å…¶ n å†…çš„æ‰€æœ‰å€æ•°ã€‚æœ€åå‰©ä¸‹çš„æ•°ï¼Œå°±éƒ½æ˜¯ç´ æ•°ã€‚

**æ ¸å¿ƒ**ï¼šç©ºé—´æ¢æ—¶é—´ï¼ŒåŠ å¿«äº†è¿ç®—é€Ÿåº¦ã€‚

![åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•](./assets/Sieve_of_Eratosthenes_animation.gif)

![[Python] è´¨æ•°çš„æ±‚æ³• - YouTube_8'26.265''](./assets/%5BPython%5D%20%E8%B4%A8%E6%95%B0%E7%9A%84%E6%B1%82%E6%B3%95%20-%20YouTube_8%2726.265%27%27.jpg)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_2'39.733''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_2%2739.733%27%27.jpg>)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_2'49.731''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_2%2749.731%27%27.jpg>)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_3'8.549''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_3%278.549%27%27.jpg>)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_3'25.350''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_3%2725.350%27%27.jpg>)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_3'35.572''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_3%2735.572%27%27.jpg>)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_3'49.438''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_3%2749.438%27%27.jpg>)

![Sieve of Eratosthenes finding primes(Eratosthenesç¯©æ³•æ‰¾è³ªæ•¸) - YouTube_3'59.163''](<./assets/Sieve%20of%20Eratosthenes%20finding%20primes(Eratosthenes%E7%AF%A9%E6%B3%95%E6%89%BE%E8%B3%AA%E6%95%B8)%20-%20YouTube_3%2759.163%27%27.jpg>)

## ä»£ç ï¼šæ±‚ $n$ ä»¥å†…ç´ æ•°

=== "Python: æšä¸¾"

    ``` py linenums="1" hl_lines="1" title="æšä¸¾ç­›é€‰ç´ æ•°"
    def is_prime(num):
        if num < 2:
            return False
        if num == 2:
            return True
        for i in range(2, num):
            if (num % i == 0):
                return False
        return True
    
    for i in range(1, 100):
        if is_prime(i):
            print(i)
    ```

=== "Python: åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼**ç­›æ³•**"

    ``` py linenums="1" hl_lines="1" title="Eratosthenes åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"
    N = 100
    is_prime = [True] * (N + 1)
    is_prime[0] = False
    is_prime[1] = False
    
    result = []
    
    for i in range(2, N + 1):
        if is_prime[i]:
            result.append(i)
            for j in range(2 * i, N + 1, i):
                is_prime[j] = False
    
    print(result)
    ```

=== "C++: åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"

    ``` cpp linenums="1" hl_lines="6 14" title="Eratosthenes åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"
    #include <iostream>
    #include <vector>
    
    int main() {
        int N = 100;
        std::vector<bool> is_prime(N + 1, true);  // (1)
        is_prime[0] = false;  // 0 is not a prime number
        is_prime[1] = false;  // 1 is not a prime number
    
        std::vector<int> result;  // Create a vector to store the prime numbers found
    
        for (int i = 2; i <= N; ++i) {  // Iterate from 2 to N
            if (is_prime[i]) {  // If the current number i is prime
                result.push_back(i);  // (2)
                for (int j = 2 * i; j <= N; j += i) {  // Mark all multiples of i as non-prime
                    is_prime[j] = false;
                }
            }
        }
    
        for (int i : result) {  // Output the prime numbers stored in the result vector
            std::cout << i << " ";
        }
        std::cout << std::endl;
    
        return 0;
    }
    ```
    
    1. Create a boolean vector to track if a number is prime or not, initialized as true
    2. Add i to the result vector

=== "ç­›æ³•æ±‚ $n$ ä»¥å†…çš„ç´ æ•° - éƒ­ç‚œ"

    ``` cpp linenums="1" title="ç­›æ³•æ±‚ n ä»¥å†…çš„ç´ æ•° - éƒ­ç‚œ"
    #include <iostream>
    using namespace std;

    #define MAX_NUM 10 // 10000000, 1e7, 10,000,000, 1000w
    char is_prime[MAX_NUM + 10]; // å¦‚æœ is_prime[i] ä¸º 1ï¼Œåˆ™è¡¨ç¤º i æ˜¯ç´ æ•°

    int main()
    {
        // åˆå§‹åŒ–ç´ æ•°æ•°ç»„ï¼šå¼€å§‹å‡è®¾æ‰€æœ‰æ•°éƒ½æ˜¯ç´ æ•°
        for (int i = 2; i <= MAX_NUM; i ++ )
            is_prime[i] = 1;
        
        // æ¯æ¬¡å°†ä¸€ä¸ªç´ æ•°çš„æ‰€æœ‰å€æ•°æ ‡è®°ä¸ºéç´ æ•°
        for (int i = 2; i <= MAX_NUM; i ++ )
            if (is_prime[i]) // åªæ ‡è®°ç´ æ•°çš„å€æ•°
                for (int j = 2 * i; j <= MAX_NUM; j += i)
                    is_prime[j] = 0; // å°†ç´ æ•° i çš„å€æ•° j æ ‡è®°ä¸ºéç´ æ•°
            
        // éå†è¾“å‡ºç´ æ•°
        for (int i = 2; i <= MAX_NUM; i ++ )
            if (is_prime[i])
                cout << i << endl;
                
        return 0;
    }

    // https://www.youtube.com/watch?v=gRUhC_AImaM
    ```

## é¢˜ç›®

### [Leetcode 204. è®¡ç®—è´¨æ•°](https://leetcode.cn/problems/count-primes/)

=== "âœ… é€šè¿‡"

    ``` cpp linenums="1" hl_lines="5 9 13" title="åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•"
    class Solution {
    public:
        int countPrimes(int n) {
            if (n <= 2) return 0;  // No prime numbers less than or equal to 2
            vector<bool> is_prime(n, true);  // Create a boolean vector to track if a number is prime or not, initialized as true
            is_prime[0] = false;  // 0 is not a prime number
            is_prime[1] = false;  // 1 is not a prime number
            
            for (int i = 2; i * i < n; ++i) {  // (1) Iterate only up to the square root of n
                if (is_prime[i]) {
                    // i æ˜¯ç´ æ•°ï¼Œåˆ™ i çš„æ•´æ•°å€å‡å¯æ ‡è®°ä¸ºéç´ æ•°ï¼Œå¦‚ï¼š
                    // 2 æ˜¯ç´ æ•°ï¼Œåˆ™ 4ã€6ã€8 â€¦â€¦ ä¸æ˜¯ï¼›æ‰«æåˆ°ä¸‹ä¸€ä¸ªç´ æ•°ï¼Œåˆ™è¯¥ç´ æ•°çš„ 2ã€3ã€4 â€¦â€¦ å€å‡ä¸æ˜¯ç´ æ•°ã€‚
                    for (int j = i * i; j < n; j += i) {  // (2) Start marking multiples from i * i
                        is_prime[j] = false;  // Mark multiples of i as non-prime
                    }
                }
            }
            
            int cnt = 0;  // Initialize a counter to keep track of the number of prime numbers found
            for (int i = 2; i < n; ++i) {
                if (is_prime[i]) {
                    cnt++;  // Increment the counter for each prime number found
                }
            }
            
            return cnt;  // Return the count of prime numbers
        }
    };
    ```
    
    1. The condition `i * i < n` is used in the for loop to iterate only up to the square root of `n`. This **optimization** is based on the property that *if a number n is not a prime, it can be factored into two factors, at least one of which must be less than or equal to the square root of n.* So, if we haven't found any factors of n up to its square root, we can conclude that n is a prime number. Therefore, there's no need to continue iterating up to n itself.
    2. The loop for (int j = i * i; j < n; j += i) starts from i * i instead of 1 * i for efficiency. This optimization is based on the fact that all the numbers less than i * i and divisible by i would have already been marked as non-prime by previous iterations. Starting from i * i ensures that we only mark the multiples of i that are greater than or equal to i * i, avoiding unnecessary iterations and reducing redundant marking of numbers that have already been marked as non-prime. This further optimizes the sieve algorithm.
    
    æ€»ç»“ï¼š
    
    1. `vector<bool> is_prime(n, true)` equals to `vector<bool> is_prime(n); fill(is_prime.begin(), is_prime.end(), true)`

=== "è¶…æ—¶"

    ``` cpp linenums="1" title="ğŸ™… è¶…å‡ºæ—¶é—´é™åˆ¶ï¼šæšä¸¾ç­›æ³•"
    class Solution {
    public:
        bool isPrime(int n) {
            if (n < 2) return false;
            if (n == 2) return true;
            for (int i = 2; i < n; i ++)
                if (n % i == 0) return false;
            return true;
        }
        int countPrimes(int n) {
            int cnt = 0;
            for (int i = 2; i < n; i ++ )
                if (isPrime(i)) cnt ++ ;
            return cnt;
        }
    };
    ```

### [868. ç­›è´¨æ•° - AcWing](https://www.acwing.com/problem/content/870/)

