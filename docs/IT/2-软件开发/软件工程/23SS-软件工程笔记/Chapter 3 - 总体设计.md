# Chapter 3 - 总体设计

## 3.0 复习内容

1. 掌握总体设计的设计原理
2. 掌握软件结构设计的启发式规则
3. 了解顺序图的作用及组成

## 3.1 总体设计过程 P67

总体设计的基本目的就是回答“概括地说，系统应该如何实现”这个问题，因此，总体设计又称为概要设计或初步设计。

{==**总体设计的设计原理**：**模块化**、**抽象**、**逐步求精**、**信息隐藏**、**模块独立**。==}

* **模块化**：模块化的依据是使问题复杂度降低，易实现易理解。模块数目增加时每个模块的规模将减小，开发单个模块的工作量也将减少。但同时增加了设计模块接口的工作量。
* **抽象**：将现实世界中具有共性的一类事物的相似的、本质的方面集中概括起来，而暂时忽略它们之间的细节差异。
* **逐步求精**：为了能集中精力解决主要问题而尽量推迟对问题细节的考虑。逐步求精最初是**自顶向下**的设计策略，程序的体系结构通过逐步精化处理过程的层次设计出来。
* **信息隐藏**：模块内部的信息对于不需要这些信息的模块来说是不能访问的。提高模块的独立性，模块之间的信息传递只能通过**合法的调用接口**来实现。
* **模块独立**：模块独立的概念是模块化、抽象、信息隐蔽概念的直接结果。模块独立程度的度量标准：
    * **耦合**：衡量**不同模块之间**相互依赖程度的度量指标；
    * **内聚**：衡量**一个模块内部各元素**相互依赖程度的度量指标。

### 3.1.1 模块独立 / 模块的独立性 P69

内聚、耦合（7种类型，知道）

好的模块独立性：高内聚（最高的内聚是什么？）、低耦合（最低的耦合是什么？）

* **耦合**
    * **数据耦合**：如果两个模块彼此间通过参数交换信息，交换的信息只有数据。
    * **控制耦合**：模块之间交换的信息中包含有控制信息。
    * **特征耦合**：把整个数据结构作为参数传递而被调用的模块只需要使用其中一部分数据元素。
    * **公共耦合**：两个或多个模块通过引用公共数据相互联系。
    * **内容耦合**
      	1. 一个模块访问另一模块的内部数据；
      	2. 一个模块不通过正常入口而转到另一模块内部；
      	3. 两个模块有一部分程序代码重叠；
      	4. 一个模块具有多个入口。

{==**数据耦合**是低耦合，**内容耦合**是所有耦合关系中程度最高的。==}

* **内聚**
    1. **偶然内聚**：一个模块完成一组任务，这些任务彼此间即使有关系，关系也是很松散的。
    2. **逻辑内聚**：一个模块完成的任务在逻辑上属相同或相似的一类。
    3. **时间内聚**：一个模块包含的任务必须在同一段时间内执行。
    4. **过程内聚**：一个模块内的处理元素是相关的，而且必须以特定次序执行。
    5. **通信内聚**：模块中所有元素都使用同一个输入数据和(或)产生同一个输出数据。
    6. **顺序内聚**：一个模块内的处理元素和同一个功能密切相关，而且这些处理必须顺序执行，通常前一部分的输出作为后一部分的输入。
    7. **功能内聚**：模块内所有处理元素属于一个整体，完成一个单一的功能。

{==**功能内聚**是最高程度的内聚。==}

??? question
		模块独立性指标有耦合和{++内聚++}，耦合度最低的耦合是{++数据耦合++}，内聚度最高的内聚是{++功能内聚++}。 

??? question
    **为了提高模块的独立性，模块内部最好是 ( {++功能内聚++} )。**

    A. 逻辑内聚
    
    B. 时间内聚
    
    {++C. 功能内聚++}
    
    D. 通信内聚

??? question
    **模块的内聚性最高的是 ( {++功能内聚++}  )。**

    A. 逻辑内聚
    
    B. 时间内聚
    
    C. 偶然内聚
    
    {++D. 功能内聚++}

??? question
    **耦合是对软件不同模块之间互连程度的度量。各种耦合按从强到弱排列如下: ( {++内容耦合，公共环境耦合，控制耦合，数据耦合。++} )**

    A. 内容耦合，控制耦合，数据耦合，公共环境耦合。
    
    B. 内容耦合，控制耦合，公共环境耦合，数据耦合。
    
    {++C. 内容耦合，公共环境耦合，控制耦合，数据耦合。++} {==内容耦合、公共耦合、外部耦合、控制耦合、特征耦合、数据耦合==}
    
    D. 控制耦合，内容耦合，数据耦合，公共环境耦合。
    
    *耦合性度量一个程序结构中各个模块之间相互联系程度，它取决于各个模块之间接口的复杂程度，取决于如何进入或访问一个模块，以及哪些数据将通过该接口。它们从强到弱排列的顺序是：内容耦合、公共耦合、外部耦合、控制耦合、特征耦合、数据耦合。*

??? question
    ** 模块独立性高要求 ( )。**

    {++A. 高内聚低耦合++}
    
    B. 低内聚高耦合
    
    C. 高内聚高耦合
    
    D. 低内聚低耦合
    
    *衡量软件的模块独立性有两个标准:①内聚性:一个模块内部各个元素间彼此结合的紧密程度的度量;②耦合性:模块间相互连接的紧密程度的度量。软件模块内部要紧密关联。而模块之间要尽量降低关联性,这样有助于软件的开发和维护,提高软件的稳定性。*

### 题目

#### 需求分析和总体设计

??? question
    **概要设计与需求分析衔接的图形工具是 ( {++DFD++} )。**

    {++A. DFD++}
    
    B. SC
    
    C. PFD
    
    D. PAD

#### 总体设计的目的/任务

??? question
    **软件设计是把 ( {++软件需求++} ) 转换为软件表示的过程。** 

    {++A. 软件需求++}
    
    B. 系统分析
    
    C. 数据库
    
    D. 数据代码

??? question
    **概要设计的目的是确定整个系统的 ( {++功能及模块结构++} )。**

    A. 规模
    
    {++B. 功能及模块结构++}
    
    C. 费用
    
    D. 测试方案

#### 总体设计的设计原理/原则

??? question
    **下面不属于软件设计原则的是 ( {--C. 自底向上--} )。 **

    A. 抽象
    
    B. 模块化
    
    {--C. 自底向上--} {++自顶向下++}
    
    D. 信息隐蔽

??? question
    结构化设计方法的核心思想是{++自顶向下，逐步求精++}。
    

!!! question
    **结构化程序设计的主要思想是什么?**

    1. **程序设计方法/基本思想**：自顶向下、逐步求精、分而治之。
    2. **设计方法的立足点/程序结构策略**：使用 3 种基本控制结构（及其嵌套、组合）、单入口和单出口来构造程序。

## 3.2 启发式规则

**改进软件结构提高模块独立性**：通过模块分解或合并，**降低耦合提高内聚**。

**模块规模应该适中**：一个模块的规模不应过大，通常不超过 60 行语句。

**深度、宽度、扇出和扇入都应适当**：顶层高扇出，中层低扇出，底层高扇入。

* **深度**：软件结构中控制的层数，粗略地标示一个系统的大小和复杂程度。
* **宽度**：软件结构内同一个层次上模块总数的最大值，一般来说，宽度越大的系统越复杂。
* **扇入**：一个模块被多少个上级模块直接调用的数目。
* **扇出**：一个模块直接控制（调用）的下级模块数目。

**模块的作用域应该在控制域范围之内**

* **作用域**：受该模块内一个判定影响的所有模块范围。
* **控制域**：模块本身及所有直接或间接从属于它的模块。

**力争降低模块接口的复杂程度**：模块接口设计原则是易理解，传递信息简单且与模块功能一致。

**设计单入口单出口的模块**：不要使模块间出现内容耦合。当从顶部进入模块并且从底部退出来时，软件是比较容易理解的，因此也是比较容易维护的。

**模块功能应该可以预测**：相同的输入应产生相同的输出。

??? question
    **一个模块的 ( {++扇出++} ) 太大一般是因为缺乏中间层次，应当适当增加中间层次的控制模块。**

    A. 深度
    
    B. 宽度
    
    {++C. 扇出++}
    
    D. 扇入

## 3.3 顺序图 (时序图，序列图)

## 3.4 协作图

??? question
    **侧重说明哪些对象之间有消息传递的图是 ( {++协作图++} )。**

    A. 对象图
    
    B. 时序图
    
    {++C. 协作图++}
    
    D. 状态图