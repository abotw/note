# 软件测试 - 230605

## 复习内容

1. 了解编码风格，测试的目的
2. 了解*白盒测试*的概念，掌握不同**覆盖标准测试用例**的选择(语句、条件、路径)
3. 了解*黑盒测试*的概念，了解三种*黑盒测试*方法
4. 了解*单元测试*、*集成测试*、*确认测试*的目标和方法

## 编码风格 & 测试目的

代码应逻辑简明清晰、易读易懂。表现在以下方面：程序内部的文档(标识符、注解视觉组织)，数据说明，语句构造，输入输出，效率。

测试是为了**发现程序中的错误**而执行程序的过程。

目的：以尽量少的人力、物力，尽可能地找到尽量多的缺陷，以提高软件的质量。

成功的测试是发现了<u>至今为止尚未发现的错误</u>的测试。

测试方法：

1. 黑盒测试(又称功能测试)把程序看作一个黑盒子，完全不考虑程序的内部结构和处理过程;
2. 白盒测试(又称结构测试)是把程序看成装在一个透明的白盒子里， 测试者完全知道程序的结构和处理算法。

----

### 软件测试的原则

1. 软件需求 不等于 测试需求，但所有的测试都应该追溯到需求
2. 尽早测试，不断测试
3. 测试用例的组成
   1. 输入数据
   2. 预期的输出结果（预期结果与实际结果是否相等）
4. 避免程序员自我的测试
5. 测试用例的设计
   1. 合理的输入条件
   2. 不合理的输入条件
6. 测试中的群集现象（2/8现象）
7. 测试不要随意，严格执行测试计划
8. 对测试结果的全面检查
9. 做了该做的事情，是否做了不该做的事情
10. 应长期保留所有的测试用例

### 软件测试的方法

1. 静态测试方法
2. 动态测试方法
   1. 白盒测试方法（与代码有关）
   2. 黑盒测试方法（与代码无关）

### 动态测试

### 黑盒测试

不在意盒子内部的细节，只关心输入和输出。

1. 等价类划分法
   1. 有效等价类（合理输入）
   2. 无效等价类（不合理输入）
2. 边界值分析法
   两个边界值和一个中间值比较重要，然后对其进行补充，边界点，左右边界
3. 错误推测法
   根据经验来进行列举
4. 因果图法
   依据需求说明书，据此，输入条件的各种组合情况，输入和输出之间的关系
   1. 动作、结果
   2. 投币获取饮料，结果投币的钱不够
   3. 不同的动作组合，不同的原因，就会产生不同的结果
   4. 输入的组合产生了不同的输出

---

黑盒测试着重测试软件功能。并不能取代白盒测试，与白盒测试互补，主要用于测试

过程的后期。 等价划分

等价类划分:根据数据测试的等效性原理进行划分。

数据测试的等效性:分类的数据取其子集中一个数据做测试与子集中其他数据测试 的效果是等效的。

等价类:某个输入域的子集合。在该子集合中，各个输入数据对于揭露程序中的错误 都是等效的。

有效等价类:对于程序的规格说明来说，是合理的，有意义的输入数据构成的集合。

无效等价类:对程序的规格说明来说，是不合理的，无意义的输入数据构成的集合。

等价类划分方法:把程序的输入数据集合按输入条件划分为若干等价类，每个等价 类相对于输入条件表示为一组有效或无效的输入，然后为每一等价类设计一个测试用 例。确定输入等价类时还需分析输出数据的等价类，以便根据输出数据的等价类导出对 应的输入等价类。

1. 如果规定了输入值的范围，可划分出一个有效的等价类(输入值在此范围内)，两个 无效的等价类(输入值小于最小值或大于最大值)。

2. 如果规定了输入数据的个数，则类似地也可以划分出一个有效的等价类和两个无效 的等价类。

3. 如果规定了输入数据的一组值，而且程序对不同输入值做不同处理，则每个允许的 输入值是一个有效的等价类，此外还有一个无效的等价类(任一个不允许的输入 值)。

4. 如果规定了输入数据必须遵循的规则，则可划分出一个有效等价类(符合规则)和若 干无效等价类(不同角度违反规则)。

5. 如果输入条件是一个布尔量，则可以确定一个有效等价类和一个无效等价类。

6. 如果规定了输入数据为整型，则可划分出正整数、零和负整数 3 个有效类。

7. 如果程序的处理对象是表格，则应该使用空表，以及含一项或多项的表。

   划分出等价类以后，根据等价类设计测试方案时主要使用下面两个步骤:设计一个

新的测试方案以尽可能多地覆盖尚未被覆盖的有效等价类，重复这一步骤直到所有有效 等价类都被覆盖为止。设计一个新的测试方案，使它只覆盖一个尚未被覆盖的无效等价 类，重复这一步骤直到所有无效等价类都被覆盖为止。

边界值分析

处理边界情况时程序最容易发生错误。使用边界值分析方法设计测试方案首先应该 确定边界情况，通常输入等价类和输出等价类的边界。选取的测试数据应该刚好等于、刚 刚小于和刚刚大于边界值。

错误推测

错误推测法在很大程度上靠直觉和经验进行。列举出程序中可能有的错误和容易发 生错误的特殊情况，并且根据它们选择测试方案。在一段程序中已经发现的错误数目往 往和尚未发现的错误数成正比。因此，在进一步测试时要着重测试那些已发现了较多错 误的程序段。

### 黑盒测试步骤

1. 等价类划分
   1. 有效
   2. 无效
2. 边界值作为补充：左右边界
3. 设计测试用例
   每一个无效等价类都需要一个测试用例

### 白盒测试

强调内部，也就是代码相关。

代码的流程图。

逻辑覆盖

1. 语句覆盖：每条语句
2. 判定覆盖：每个判定的分支
3. 条件覆盖：每个判定的每个条件
4. 判定条件覆盖
5. 条件组合覆盖
6. 路径覆盖（发现错误的能力最强），考虑控制流图及其画法

---

测试用例:测试数据和预期输出结果。设计测试方案的基本目标是，确定一组最可能

```
发现某个错误或某类错误的测试数据。
```

逻辑覆盖:语句覆盖、判定覆盖、条件覆盖、判定**/**条件覆盖、条件组合覆盖、点覆盖、 边覆盖、路径覆盖。

语句覆盖:每个语句至少执行一次。 判定覆盖:又叫分支覆盖，不仅每个语句必须至少执行一次，而且每个判定的每个分

支都至少执行一次。

条件覆盖:不仅每个语句至少执行一次，而且使判定表达式中的每个条件都取到各 种可能的结果。条件覆盖通常比判定覆盖强，但满足条件覆盖的测试数据不一定满足判 定覆盖。

判定**/**条件覆盖:能同时满足判定覆盖和条件覆盖的逻辑覆盖。 条件组合覆盖:每个判定表达式中条件的各种可能组合都至少出现一次。条件组合

```
覆盖是前述几种覆盖标准中最强的。
```

点覆盖:程序执行路径至少经过流图的每个结点一次，点覆盖标准和语句覆盖标准 是相同的。

边覆盖:程序执行路径至少经过流图中每条边一次。通常边覆盖和判定覆盖是一致 的。

路径覆盖:程序的每条可能路径都至少执行一次。路径覆盖相对来说是比较强的逻 辑覆盖标准。但路径覆盖并没有检验表达式中条件的各种组合情况，而只考虑每个判定 表达式的取值。

## 单元测试

单元测试集中检测软件设计的最小单元——模块。单元测试主要使用白盒测试技 术，辅以黑盒测试，而且对多个模块的测试可以并行地进行。可用人工测试和计算机测试 两种不同类型的测试方法。

测试重点:模块接口、局部数据结构、重要的执行通路、出错处理通路、边界条件。

代码审查:由审查小组正式对源程序进行人工测试。审查小组的任务是发现错误而 不是改正错误。

计算机测试:模块不是一个独立的程序，因此必须为每个单元测试开发驱动程序和 (或)存根程序。驱动程序是一个“主程序”，它接收测试数据，启动被测模块，输出测试结

果。存根程序代替被测试的模块所调用的模块，接收被测试模块的调用和输出数据。

## 集成测试

集成测试是测试和组装软件的系统化技术。

由模块组装成程序时有两种方法:非渐增式测试方法、渐增式测试方法。

非渐增式测试方法:先分别测试每个模块，再把所有模块按设计要求放在一起结合 成所要的程序。

渐增式测试方法:把下一个要测试的模块同已经测试好的那些模块结合起来进行测

试，测试完以后再把下一个应该测试的模块结合进来测试。这种方法实际上同时完成单 元测试和集成测试。

非渐增式测试把所有模块放在一起作为一个整体来测试。测试时会遇到许多错误， 改正错误非常困难，因为在庞大的程序中想要诊断定位一个错误非常困难。渐增式测试 把程序划分成小段来构造和测试，在这个过程中比较容易定位和改正错误;对接口可以 进行更彻底的测试。因此，目前集成测试时普遍采用渐增式测试方法。

当使用渐增方式把模块结合到程序中去时，有自顶向下和自底向上两种集成策略。 自顶向下集成:从主控制模块开始沿程序的控制层次向下移动，逐渐把各模块结合

起来。把模块组装到程序结构中时可使用深度优先和宽度优先两种策略。

自底向上集成:从软件结构最低层模块开始组装和测试，当测试到较高层模块时，所 需的下层模块均已具备，故不再需要桩模块。

自顶向下测试方法的主要优点是不需要测试驱动程序，能够在测试阶段的早期实现 并验证系统的主要功能，而且能在早期发现上层模块的接口错误。主要缺点是需要存根 程序，可能遇到与此相联系的测试困难，低层关键模块中的错误发现较晚，而且用这种方 法在早期不能充分展开人力。自底向上测试方法的优缺点与自顶向下测试方法的优缺点 相反。

回归测试:集成测试过程中，每当一个新模块结合进来时，程序就发生了变化。在集 成测试的范畴中，回归测试指重新执行已经做过的测试的某个子集，以保证上述这些变 化没有带来非预期的副作用。

## 确认测试8

确认测试也称验收测试，目标是验证软件的有效性。

软件有效性的一个简单定义是:如果软件的功能和性能如同用户所合理期待的那样， 软件就是有效的。软件需求规格说明书是软件有效性的标准，也是进行确认测试的基础。

大多数软件开发商都使用 **Alpha** 测试和 **Beta** 测试的过程。
 **Alpha** 测试:由用户在开发者的场所进行，且在开发者“指导”下进行。开发者负责

记录发现的错误和使用中遇到的问题，是在受控的环境中进行的。

**Beta** 测试:由软件的最终用户们在一个或多个客户场所进行，是软件在开发者不能 控制的环境中的“真实”应用。